<div class="container">

  <h1>Les utilisateurs</h1>


  <hr>
  <% if user_signed_in? %>
    <p>
      <%= link_to 'se déconnecter', destroy_user_session_path, method: :delete %> 
    </p>
  <% else %>
    <p>
      <%= link_to 'se connecter', new_user_session_path %>  
    </p>
  <% end %>

  <hr>
  <%= link_to 'créer un challenge', new_challenge_path, :class => "btn btn-primary btn-lg" %>

  <hr>


  <p>
    <span><strong>user_signed_in? : </strong><%= user_signed_in? %> </span>
  </p>
  <% if user_signed_in? %>
    <p>
      <strong>username : </strong><%= current_user.username %><br>
      <strong>email : </strong><%= current_user.email %><br>
      <strong>id : </strong><%= current_user.id %><br>
      <strong>user_session : </strong><%= user_session %> 
    </p>
  <% end %>



  <table>
    <thead>
      <tr>
        <th>email</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.email %></td>
          <td><%= link_to 'Afficher', user %></td>
          <td><%= link_to 'Modifier', edit_user_path(user) %></td>
          <td><%= link_to 'Détruire', user, method: :delete, data: { confirm: 'Es-tu vraiment certain ?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'Nouvelle utilisateur', new_user_path %>

  <hr>

  <p>
    <%= debug user_signed_in? %>
  </p>

  <% if debug user_signed_in? %>
    <p>
      <span class="strong">current_user : <%= current_user %> </span>
    </p>
  <% end %>

  <p>
    <%= debug session.to_hash %>
  </p>

</div>